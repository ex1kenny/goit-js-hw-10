{"version":3,"file":"commonHelpers.js","sources":["../src/js/01-timer.js"],"sourcesContent":["import 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport flatpickr from 'flatpickr';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst input = document.querySelector('input[id=\"datetime-picker\"]');\nconst btn = document.querySelector('button[data-start]');\nconst days = document.querySelector('span[data-days]');\nconst hours = document.querySelector('span[data-hours]');\nconst minutes = document.querySelector('span[data-minutes]');\nconst seconds = document.querySelector('span[data-seconds]');\n\nbtn.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const pickDate = new Date(selectedDates[0]);\n    const currentDate = new Date();\n    currentDate.setSeconds(0, 0);\n\n    if (currentDate.getTime() >= pickDate.getTime()) {\n      iziToast.warning({\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n      });\n      btn.disabled = true;\n    } else {\n      btn.disabled = false;\n      userSelectedDate = new Date(selectedDates[0]);\n    }\n  },\n};\n\nlet userSelectedDate = new Date();\nflatpickr(input, options);\n\nfunction handleStart() {\n  const now = new Date();\n  if (userSelectedDate > now) {\n    updateTimer(userSelectedDate - now);\n\n    const timerIntervalId = setInterval(() => {\n      const remainingTime = userSelectedDate - new Date();\n      if (remainingTime <= 0) {\n        clearInterval(timerIntervalId);\n        updateTimerDisplay();\n      } else {\n        updateTimer(remainingTime);\n      }\n    }, 1000);\n  }\n}\n\nfunction updateTimer(ms) {\n  const {\n    days: daysValue,\n    hours: hoursValue,\n    minutes: minutesValue,\n    seconds: secondsValue,\n  } = convertMs(ms);\n\n  days.textContent = addLeadingZero(daysValue);\n  hours.textContent = addLeadingZero(hoursValue);\n  minutes.textContent = addLeadingZero(minutesValue);\n  seconds.textContent = addLeadingZero(secondsValue);\n}\n\nbtn.addEventListener('click', handleStart);\n\nfunction updateTimerDisplay(ms) {\n  if (ms <= 0) {\n    days.textContent = '00';\n    hours.textContent = '00';\n    minutes.textContent = '00';\n    seconds.textContent = '00';\n  } else {\n    const { days, hours, minutes, seconds } = convertMs(ms);\n  }\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  return value >= 0 && value < 10\n    ? value.toString().padStart(2, '0')\n    : value.toString();\n}\n"],"names":["input","btn","days","hours","minutes","seconds","options","selectedDates","pickDate","currentDate","iziToast","userSelectedDate","flatpickr","handleStart","now","updateTimer","timerIntervalId","remainingTime","updateTimerDisplay","ms","daysValue","hoursValue","minutesValue","secondsValue","convertMs","addLeadingZero","value"],"mappings":"2GAKA,MAAMA,EAAQ,SAAS,cAAc,6BAA6B,EAC5DC,EAAM,SAAS,cAAc,oBAAoB,EACjDC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EAE3DJ,EAAI,SAAW,GAEf,MAAMK,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,MAAMC,EAAW,IAAI,KAAKD,EAAc,EAAE,EACpCE,EAAc,IAAI,KACxBA,EAAY,WAAW,EAAG,CAAC,EAEvBA,EAAY,QAAO,GAAMD,EAAS,QAAO,GAC3CE,EAAS,QAAQ,CACf,QAAS,qCACT,SAAU,UAClB,CAAO,EACDT,EAAI,SAAW,KAEfA,EAAI,SAAW,GACfU,EAAmB,IAAI,KAAKJ,EAAc,EAAE,EAE/C,CACH,EAEA,IAAII,EAAmB,IAAI,KAC3BC,EAAUZ,EAAOM,CAAO,EAExB,SAASO,GAAc,CACrB,MAAMC,EAAM,IAAI,KAChB,GAAIH,EAAmBG,EAAK,CAC1BC,EAAYJ,EAAmBG,CAAG,EAElC,MAAME,EAAkB,YAAY,IAAM,CACxC,MAAMC,EAAgBN,EAAmB,IAAI,KACzCM,GAAiB,GACnB,cAAcD,CAAe,EAC7BE,KAEAH,EAAYE,CAAa,CAE5B,EAAE,GAAI,CACR,CACH,CAEA,SAASF,EAAYI,EAAI,CACvB,KAAM,CACJ,KAAMC,EACN,MAAOC,EACP,QAASC,EACT,QAASC,CACb,EAAMC,EAAUL,CAAE,EAEhBjB,EAAK,YAAcuB,EAAeL,CAAS,EAC3CjB,EAAM,YAAcsB,EAAeJ,CAAU,EAC7CjB,EAAQ,YAAcqB,EAAeH,CAAY,EACjDjB,EAAQ,YAAcoB,EAAeF,CAAY,CACnD,CAEAtB,EAAI,iBAAiB,QAASY,CAAW,EAEzC,SAASK,EAAmBC,EAAI,CAC1BA,GAAM,IACRjB,EAAK,YAAc,KACnBC,EAAM,YAAc,KACpBC,EAAQ,YAAc,KACtBC,EAAQ,YAAc,KAI1B,CAEA,SAASmB,EAAUL,EAAI,CAMrB,MAAMjB,EAAO,KAAK,MAAMiB,EAAK,KAAG,EAC1BhB,EAAQ,KAAK,MAAOgB,EAAK,MAAO,IAAI,EACpCf,EAAU,KAAK,MAAQe,EAAK,MAAO,KAAQ,GAAM,EACjDd,EAAU,KAAK,MAASc,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAjB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASoB,EAAeC,EAAO,CAC7B,OAAOA,GAAS,GAAKA,EAAQ,GACzBA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EAChCA,EAAM,SAAQ,CACpB"}